// Generated by CoffeeScript 1.3.3
(function() {
  var bindPopen, popen;

  $('#popback').click(function() {
    return $('#popen').css({
      'width': '0',
      'margin-left': '0'
    }).fadeOut(500, function() {
      return $('#popback').hide();
    });
  });

  $('#popen').click(function(e) {
    return e.stopPropagation();
  });

  popen = function(url) {
    $('#popback').show();
    return $('#popen').load(url, function() {
      return $(this).fadeIn(100, function() {
        return $(this).css({
          'width': '80%',
          'margin-left': '-40%'
        });
      });
    });
  };

  bindPopen = function() {
    return $('.bp').click(function() {
      var tUrl;
      if (tUrl = $(this).attr('target-url')) {
        return popen(tUrl);
      }
    });
  };

  bindPopen();

}).call(this);
